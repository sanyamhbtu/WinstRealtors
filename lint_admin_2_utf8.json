[{"filePath":"D:\\coding\\java learing\\project\\Winst Realtors\\Frontend\\src\\app\\adminstration\\admin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'faqs' is assigned a value but never used.","line":77,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":77,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":191,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":191,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":240,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":240,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":267,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":267,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":311,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":311,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":335,"column":6,"nodeType":"ArrayExpression","endLine":335,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [activeTab, fetchData, session?.user]","fix":{"range":[10366,10392],"text":"[activeTab, fetchData, session?.user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":445,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":445,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12862,12865],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12862,12865],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'data' is assigned a value but never used.","line":521,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":521,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":532,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":532,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":571,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":571,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":596,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":596,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":621,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":621,"endColumn":19},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1472,"column":23,"nodeType":"JSXOpeningElement","endLine":1476,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1614,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1614,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[71903,71906],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[71903,71906],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1627,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1627,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[72342,72345],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[72342,72345],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1562,1565],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1562,1565],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1686,1689],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1686,1689],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1816,1819],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1816,1819],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":71,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1938,1941],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1938,1941],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2060,2063],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2060,2063],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2182,2185],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2182,2185],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2296,2299],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2296,2299],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":79,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2426,2429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2426,2429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2558,2561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2558,2561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2736,2739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2736,2739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":121,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4064,4067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4064,4067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":368,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":368,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11218,11221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11218,11221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1611,"column":85,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1611,"endColumn":88,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[71820,71823],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[71820,71823],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  LayoutDashboard, \r\n  Home, \r\n  FileText, \r\n  Image as ImageIcon, \r\n  Users, \r\n  MessageSquare,\r\n  Calendar,\r\n  LogOut,\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  Eye,\r\n  Loader2,\r\n  X,\r\n  Save,\r\n  CalendarCheck,\r\n  Lock,\r\n  Mail,\r\n  Settings,\r\n  Menu,\r\n  Award\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useSession, authClient } from \"@/lib/auth-client\";\r\nimport AgentsPage from \"./agents/page\";\r\n\r\ninterface DashboardStats {\r\n  totalProperties: number;\r\n  activeProperties: number;\r\n  featuredProperties: number;\r\n  totalBlogPosts: number;\r\n  publishedBlogPosts: number;\r\n  totalTestimonials: number;\r\n  totalPartners: number;\r\n  totalBookings: number;\r\n  pendingBookings: number;\r\n  confirmedBookings: number;\r\n  totalContacts: number;\r\n  unreadContacts: number;\r\n  totalFaqs: number;\r\n  publishedFaqs: number;\r\n  totalGalleryItems: number;\r\n  publishedGalleryItems: number;\r\n}\r\ninterface AdminEmail {\r\n  id: number;\r\n  email: string;\r\n  addedBy: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport default function AdminDashboard() {\r\n  const { data: session, isPending } = useSession();\r\n  const router = useRouter();\r\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\r\n  const [stats, setStats] = useState<DashboardStats | null>(null);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [properties, setProperties] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [blogPosts, setBlogPosts] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [testimonials, setTestimonials] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [partners, setPartners] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [bookings, setBookings] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [contacts, setContacts] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [faqs, setFaqs] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [galleryItems, setGalleryItems] = useState<any[]>([]);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [homepageStats, setHomepageStats] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const [editingItem, setEditingItem] = useState<any>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editType, setEditType] = useState<string>(\"\");\r\n\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n  // Settings state\r\n  const [adminEmails, setAdminEmails] = useState<AdminEmail[]>([]);\r\n  const [newAdminEmail, setNewAdminEmail] = useState(\"\");\r\n  const [newAdminName, setNewAdminName] = useState(\"\");\r\n  const [newAdminPassword, setNewAdminPassword] = useState(\"\");\r\n  const [passwordForm, setPasswordForm] = useState({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\"\r\n  });\r\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\r\n  const [isAddingEmail, setIsAddingEmail] = useState(false);\r\n  // Fetch dashboard stats\r\n  const fetchStats = async () => {\r\n    try {\r\n      const res = await fetch(\"/api/admin/stats\");\r\n      const data = await res.json();\r\n      setStats(data);\r\n    } catch {\r\n      toast.error(\"Failed to load dashboard stats\");\r\n    }\r\n  }\r\n\r\n  // Fetch data based on active tab\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      let endpoint = \"\";\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      let setter: any = null;\r\n\r\n      switch (activeTab) {\r\n        case \"properties\":\r\n          endpoint = \"/api/properties?limit=50\";\r\n          setter = setProperties;\r\n          break;\r\n        case \"blogs\":\r\n          endpoint = \"/api/blog-posts?limit=50\";\r\n          setter = setBlogPosts;\r\n          break;\r\n        case \"testimonials\":\r\n          endpoint = \"/api/testimonials?limit=50\";\r\n          setter = setTestimonials;\r\n          break;\r\n        case \"partners\":\r\n          endpoint = \"/api/partners?limit=50\";\r\n          setter = setPartners;\r\n          break;\r\n        case \"bookings\":\r\n          endpoint = \"/api/bookings?limit=50\";\r\n          setter = setBookings;\r\n          break;\r\n        case \"contacts\":\r\n          endpoint = \"/api/contacts?limit=50\";\r\n          setter = setContacts;\r\n          break;\r\n        case \"faqs\":\r\n          endpoint = \"/api/faqs?limit=50\";\r\n          setter = setFaqs;\r\n          break;\r\n        case \"gallery\":\r\n          endpoint = \"/api/gallery-items?limit=50\";\r\n          setter = setGalleryItems;\r\n          break;\r\n        case \"homepage-stats\":\r\n          endpoint = \"/api/homepage-stats\";\r\n          setter = setHomepageStats;\r\n          break;\r\n      }\r\n\r\n      if (endpoint && setter) {\r\n        const res = await fetch(endpoint);\r\n        const data = await res.json();\r\n        setter(data);\r\n      }\r\n    } catch {\r\n      toast.error(\"Failed to load data\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n    // Fetch admin emails\r\n  const fetchAdminEmails = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(\"/api/admin/admin-emails\", {\r\n        headers: {\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        }\r\n      });\r\n      console.log(\"resadmin\", res);\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setAdminEmails(data);\r\n      } else if (res.status === 403) {\r\n        toast.error(\"You don't have admin access\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Failed to load admin emails\");\r\n    }\r\n  };\r\n\r\n  // Add admin email\r\n  const handleAddAdminEmail = async () => {\r\n    if (!newAdminEmail || !newAdminEmail.includes(\"@\")) {\r\n      toast.error(\"Please enter a valid email\");\r\n      return;\r\n    }\r\n\r\n    if (!newAdminName || newAdminName.trim() === \"\") {\r\n      toast.error(\"Please enter the user's name\");\r\n      return;\r\n    }\r\n\r\n    if (!newAdminPassword || newAdminPassword.length < 8) {\r\n      toast.error(\"Password must be at least 8 characters\");\r\n      return;\r\n    }\r\n\r\n    setIsAddingEmail(true);\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(\"/api/admin/admin-emails\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        },\r\n        body: JSON.stringify({ \r\n          email: newAdminEmail,\r\n          name: newAdminName,\r\n          password: newAdminPassword\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        toast.success(data.message || \"Admin user created successfully\");\r\n        setNewAdminEmail(\"\");\r\n        setNewAdminName(\"\");\r\n        setNewAdminPassword(\"\");\r\n        fetchAdminEmails();\r\n      } else {\r\n        const error = await res.json();\r\n        toast.error(error.error || \"Failed to add admin email\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    } finally {\r\n      setIsAddingEmail(false);\r\n    }\r\n  };\r\n\r\n  // Remove admin email\r\n  const handleRemoveAdminEmail = async (email: string) => {\r\n    if (!confirm(`Are you sure you want to remove ${email} from admin access?`)) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(`/api/admin/admin-emails?email=${encodeURIComponent(email)}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        }\r\n      });\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Admin email removed successfully\");\r\n        fetchAdminEmails();\r\n      } else {\r\n        const error = await res.json();\r\n        toast.error(error.error || \"Failed to remove admin email\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    }\r\n  };\r\n\r\n  // Change password\r\n  const handleChangePassword = async () => {\r\n    if (!passwordForm.currentPassword || !passwordForm.newPassword || !passwordForm.confirmPassword) {\r\n      toast.error(\"Please fill in all password fields\");\r\n      return;\r\n    }\r\n\r\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\r\n      toast.error(\"New passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    if (passwordForm.newPassword.length < 8) {\r\n      toast.error(\"New password must be at least 8 characters\");\r\n      return;\r\n    }\r\n\r\n    setIsChangingPassword(true);\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(\"/api/admin/change-password\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        },\r\n        body: JSON.stringify({\r\n          currentPassword: passwordForm.currentPassword,\r\n          newPassword: passwordForm.newPassword\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Password changed successfully\");\r\n        setPasswordForm({ currentPassword: \"\", newPassword: \"\", confirmPassword: \"\" });\r\n      } else {\r\n        const error = await res.json();\r\n        toast.error(error.error || \"Failed to change password\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    } finally {\r\n      setIsChangingPassword(false);\r\n    }\r\n  };\r\n\r\n  // ALL useEffect hooks must be called before any conditional returns\r\n  useEffect(() => {\r\n    if (!isPending && !session?.user) {\r\n      router.push(\"/adminstration/login?redirect=/adminstration/admin\");\r\n    }\r\n  }, [session, isPending, router]);\r\n\r\n  useEffect(() => {\r\n    if (session?.user) {\r\n      fetchStats();\r\n    }\r\n  }, [session?.user]);\r\n\r\n  useEffect(() => {\r\n    if (session?.user && activeTab !== \"dashboard\") {\r\n      fetchData();\r\n    }\r\n  }, [activeTab, session?.user]);\r\n\r\n  useEffect(() =>{\r\n    if(session?.user && activeTab === \"settings\"){\r\n      fetchAdminEmails()\r\n    }\r\n  },[activeTab, session?.user]);\r\n\r\n    const handleTabChange = (tabId: string) => {\r\n    setActiveTab(tabId);\r\n    setIsSidebarOpen(false);\r\n  };\r\n\r\n  // Show loading while checking auth\r\n  if (isPending) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#fafaf8] flex items-center justify-center\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Don't render if not authenticated\r\n  if (!session?.user) {\r\n    return null;\r\n  }\r\n\r\n  // Add new item\r\n  const handleAdd = (type: string) => {\r\n    setIsCreating(true);\r\n    setEditType(type);\r\n    \r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const templates: Record<string, any> = {\r\n      properties: {\r\n        title: \"\",\r\n        location: \"\",\r\n        price: \"\",\r\n        bedrooms: 0,\r\n        bathrooms: 0,\r\n        area: \"\",\r\n        status: \"Active\",\r\n        description: \"\",\r\n        image: \"\",\r\n        images: [],\r\n        featured: false,\r\n        type: \"Residential\",\r\n        category: \"Sale\"\r\n      },\r\n      blogs: {\r\n        title: \"\",\r\n        author: \"\",\r\n        category: \"\",\r\n        excerpt: \"\",\r\n        content: \"\",\r\n        published: false,\r\n        image: \"\",\r\n        date: new Date().toISOString().split('T')[0],\r\n        readTime: \"5 min read\"\r\n      },\r\n      testimonials: {\r\n        name: \"\",\r\n        role: \"\",\r\n        rating: 5,\r\n        content: \"\",\r\n        image: \"\"\r\n      },\r\n      partners: {\r\n        name: \"\",\r\n        website: \"\",\r\n        logo: \"\"\r\n      },\r\n      bookings: {\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        date: \"\",\r\n        time: \"\",\r\n        notes: \"\",\r\n        status: \"Pending\"\r\n      },\r\n      faqs: {\r\n        question: \"\",\r\n        answer: \"\",\r\n        category: \"General\",\r\n        published: false,\r\n        order_index: 0\r\n      },\r\n      gallery: {\r\n        title: \"\",\r\n        category: \"\",\r\n        image: \"\",\r\n        description: \"\",\r\n        published: false\r\n      },\r\n      \"homepage-stats\": {\r\n        label: \"\",\r\n        value: \"\",\r\n        icon: \"Star\",\r\n        orderIndex: 0\r\n      }\r\n    };\r\n    \r\n    const template = templates[type] || {};\r\n    setEditingItem(template);\r\n    setShowModal(true);\r\n    toast.info(`Creating new ${type.slice(0, -1)}...`);\r\n  };\r\n\r\n  // Edit item\r\n  const handleEdit = (item: any, type: string) => {\r\n    setIsCreating(false);\r\n    setEditingItem(item);\r\n    setEditType(type);\r\n    setShowModal(true);\r\n  };\r\n\r\n  // Save edited or new item\r\n  const handleSaveEdit = async () => {\r\n    if (!editingItem) {\r\n      toast.error(\"No item to save\");\r\n      return;\r\n    }\r\n\r\n    // Validation\r\n    if (isCreating) {\r\n      if (editType === \"properties\" && (!editingItem.title || !editingItem.location || !editingItem.price)) {\r\n        toast.error(\"Please fill in all required fields (Title, Location, Price)\");\r\n        return;\r\n      }\r\n      if (editType === \"blogs\" && (!editingItem.title || !editingItem.author || !editingItem.content)) {\r\n        toast.error(\"Please fill in all required fields (Title, Author, Content)\");\r\n        return;\r\n      }\r\n      if (editType === \"testimonials\" && (!editingItem.name || !editingItem.role || !editingItem.image || !editingItem.content)) {\r\n        toast.error(\"Please fill in all required fields (Name, Role, Image, Content)\");\r\n        return;\r\n      }\r\n      if (editType === \"partners\" && (!editingItem.name || !editingItem.logo)) {\r\n        toast.error(\"Please fill in all required fields (Name, Logo)\");\r\n        return;\r\n      }\r\n      if (editType === \"faqs\" && (!editingItem.question || !editingItem.answer)) {\r\n        toast.error(\"Please fill in all required fields (Question, Answer)\");\r\n        return;\r\n      }\r\n      if (editType === \"gallery\" && (!editingItem.title || !editingItem.image)) {\r\n        toast.error(\"Please fill in all required fields (Title, Image)\");\r\n        return;\r\n      }\r\n    }\r\n\r\n    setIsSaving(true);\r\n\r\n    try {\r\n      const endpoints: Record<string, string> = {\r\n        properties: \"/api/properties\",\r\n        blogs: \"/api/blog-posts\",\r\n        testimonials: \"/api/testimonials\",\r\n        partners: \"/api/partners\",\r\n        bookings: \"/api/bookings\",\r\n        contacts: \"/api/contacts\",\r\n        faqs: \"/api/faqs\",\r\n        gallery: \"/api/gallery-items\",\r\n        \"homepage-stats\": \"/api/homepage-stats\",\r\n      };\r\n\r\n      const method = isCreating ? \"POST\" : \"PUT\";\r\n      const url = isCreating \r\n        ? endpoints[editType]\r\n        : `${endpoints[editType]}?id=${editingItem.id}`;\r\n\r\n\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n\r\n      const res = await fetch(url, {\r\n        method,\r\n        headers: { \r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        },\r\n        body: JSON.stringify(editingItem),\r\n      });\r\n\r\n\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        toast.success(isCreating ? \"Item created successfully!\" : \"Item updated successfully!\");\r\n        setShowModal(false);\r\n        setEditingItem(null);\r\n        setIsCreating(false);\r\n        await fetchData();\r\n        await fetchStats();\r\n      } else {\r\n        const error = await res.json();\r\n        toast.error(error.error || error.message || \"Failed to save item\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred while saving\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  // Delete item\r\n  const handleDelete = async (id: number, type: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this item?\")) return;\r\n\r\n    try {\r\n      const endpoints: Record<string, string> = {\r\n        properties: \"/api/properties\",\r\n        blogs: \"/api/blog-posts\",\r\n        testimonials: \"/api/testimonials\",\r\n        partners: \"/api/partners\",\r\n        bookings: \"/api/bookings\",\r\n        contacts: \"/api/contacts\",\r\n        faqs: \"/api/faqs\",\r\n        gallery: \"/api/gallery-items\",\r\n        \"homepage-stats\": \"/api/homepage-stats\",\r\n      };\r\n\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(`${endpoints[type]}?id=${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        }\r\n      });\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Item deleted successfully\");\r\n        fetchData();\r\n        fetchStats();\r\n      } else {\r\n        toast.error(\"Failed to delete item\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    }\r\n  };\r\n\r\n  // Update booking status\r\n  const handleUpdateBookingStatus = async (id: number, status: string) => {\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(`/api/bookings?id=${id}`, {\r\n        method: \"PUT\",\r\n        headers: { \r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Status updated successfully\");\r\n        fetchData();\r\n        fetchStats();\r\n      } else {\r\n        toast.error(\"Failed to update status\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    }\r\n  };\r\n\r\n  // Update contact status\r\n  const handleUpdateContactStatus = async (id: number, status: string) => {\r\n    try {\r\n      const token = localStorage.getItem(\"bearer_token\");\r\n      const res = await fetch(`/api/contacts?id=${id}`, {\r\n        method: \"PUT\",\r\n        headers: { \r\n          \"Content-Type\": \"application/json\",\r\n          ...(token && { Authorization: `Bearer ${token}` })\r\n        },\r\n        body: JSON.stringify({ status }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        toast.success(\"Status updated successfully\");\r\n        fetchData();\r\n        fetchStats();\r\n      } else {\r\n        toast.error(\"Failed to update status\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"An error occurred\");\r\n    }\r\n  };\r\n\r\n  // Logout handler\r\n  const handleLogout = async () => {\r\n    const { error } = await authClient.signOut();\r\n    if (error?.code) {\r\n      toast.error(\"Failed to logout\");\r\n    } else {\r\n      localStorage.removeItem(\"bearer_token\");\r\n      router.push(\"/adminstration/login\");\r\n    }\r\n  };\r\n\r\n  // View contact message\r\n  const handleViewMessage = (message: string) => {\r\n    setEditingItem({ message });\r\n    setEditType(\"view-message\");\r\n    setShowModal(true);\r\n  };\r\n\r\n  const statCards = [\r\n    { \r\n      label: \"Total Properties\", \r\n      value: stats?.totalProperties || 0, \r\n      icon: Home, \r\n      color: \"bg-blue-500\" \r\n    },\r\n    { \r\n      label: \"Active Listings\", \r\n      value: stats?.activeProperties || 0, \r\n      icon: LayoutDashboard, \r\n      color: \"bg-green-500\" \r\n    },\r\n    { \r\n      label: \"Consultations\", \r\n      value: stats?.totalBookings || 0, \r\n      icon: Calendar, \r\n      color: \"bg-purple-500\" \r\n    },\r\n    { \r\n      label: \"Contact Submissions\", \r\n      value: stats?.totalContacts || 0, \r\n      icon: MessageSquare, \r\n      color: \"bg-orange-500\" \r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#fafaf8] flex\">\r\n      {/* Mobile backdrop */}\r\n      {isSidebarOpen && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/50 z-40 lg:hidden\"\r\n          onClick={() => setIsSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <aside className={`\r\n        w-64 bg-[#1a2332] text-white fixed h-full z-50 transition-transform duration-300\r\n        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}\r\n        lg:translate-x-0\r\n      `}>\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center justify-between mb-8\">\r\n            <h2 className=\"font-display text-2xl font-bold text-[#D4AF37]\">\r\n              Winst Admin\r\n            </h2>\r\n            <button\r\n              onClick={() => setIsSidebarOpen(false)}\r\n              className=\"lg:hidden p-2 hover:bg-white/10 rounded-lg\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n          <nav className=\"space-y-2\">\r\n            {[\r\n              { id: \"dashboard\", icon: LayoutDashboard, label: \"Dashboard\" },\r\n              { id: \"properties\", icon: Home, label: \"Properties\" },\r\n              { id: \"blogs\", icon: FileText, label: \"Blog Posts\" },\r\n              { id: \"gallery\", icon: ImageIcon, label: \"Gallery\" },\r\n              { id: \"testimonials\", icon: Users, label: \"Testimonials\" },\r\n              { id: \"partners\", icon: Users, label: \"Partners\" },\r\n              { id: \"bookings\", icon: Calendar, label: \"Bookings\" },\r\n              { id: \"contacts\", icon: MessageSquare, label: \"Contacts\" },\r\n              { id: \"homepage-stats\", icon: Award, label: \"Homepage Stats\" },\r\n              { id: \"agents\", icon: Users, label: \"Agents\" },\r\n              { id: \"settings\", icon: Settings, label: \"Settings\" },\r\n            ].map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <button\r\n                  key={item.id}\r\n                  onClick={() => handleTabChange(item.id)}\r\n                  className={`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${\r\n                    activeTab === item.id\r\n                      ? \"bg-[#D4AF37] text-white\"\r\n                      : \"hover:bg-white/10\"\r\n                  }`}\r\n                >\r\n                  <Icon className=\"w-5 h-5\" />\r\n                  <span>{item.label}</span>\r\n                </button>\r\n              );\r\n            })}\r\n          </nav>\r\n        </div>\r\n        <div className=\"absolute bottom-0 left-0 right-0 p-6\">\r\n          <button \r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-white/10 transition-colors\"\r\n          >\r\n            <LogOut className=\"w-5 h-5\" />\r\n            <span>Logout</span>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 lg:ml-64 p-4 md:p-6 lg:p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          {/* Header */}\r\n          <div className=\"mb-6 md:mb-8\">\r\n            <div className=\"flex items-center gap-4 mb-4\">\r\n              {/* Mobile menu button */}\r\n              <button\r\n                onClick={() => setIsSidebarOpen(true)}\r\n                className=\"lg:hidden p-2 hover:bg-gray-100 rounded-lg\"\r\n              >\r\n                <Menu className=\"w-6 h-6 text-[#1a2332]\" />\r\n              </button>\r\n              \r\n              <div className=\"flex-1\">\r\n                <h1 className=\"font-display text-2xl md:text-3xl font-bold text-[#1a2332] mb-1 md:mb-2\">\r\n                  {activeTab === \"dashboard\" && \"Dashboard Overview\"}\r\n                  {activeTab === \"properties\" && \"Manage Properties\"}\r\n                  {activeTab === \"blogs\" && \"Blog Management\"}\r\n                  {activeTab === \"gallery\" && \"Gallery Management\"}\r\n                  {activeTab === \"testimonials\" && \"Testimonials\"}\r\n                  {activeTab === \"partners\" && \"Partners\"}\r\n                  {activeTab === \"bookings\" && \"Consultation Bookings\"}\r\n                  {activeTab === \"contacts\" && \"Contact Submissions\"}\r\n                  {activeTab === \"faqs\" && \"FAQs Management\"}\r\n                  {activeTab === \"homepage-stats\" && \"Homepage Stats\"}\r\n                  {activeTab === \"agents\" && \"Agent Management\"}\r\n                  {activeTab === \"settings\" && \"Admin Settings\"}\r\n                </h1>\r\n                <p className=\"text-sm md:text-base text-gray-600\">Welcome back, {session.user.name || session.user.email}</p>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Add New Button */}\r\n            {activeTab !== \"dashboard\" && activeTab !== \"contacts\" && activeTab !== \"settings\" && (\r\n              <Button\r\n                onClick={() => handleAdd(activeTab)}\r\n                className=\"bg-[#D4AF37] hover:bg-[#B8941F] text-white w-full sm:w-auto\"\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                Add New\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Dashboard Content */}\r\n          {activeTab === \"dashboard\" && (\r\n            <div className=\"space-y-6 md:space-y-8\">\r\n              {/* Stats Grid */}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6\">\r\n                {statCards.map((stat, index) => {\r\n                  const Icon = stat.icon;\r\n                  return (\r\n                    <div key={index} className=\"bg-white rounded-lg p-4 md:p-6 shadow-md\">\r\n                      <div className=\"flex items-center justify-between mb-4\">\r\n                        <div className={`w-10 h-10 md:w-12 md:h-12 ${stat.color} rounded-lg flex items-center justify-center`}>\r\n                          <Icon className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-gray-600 text-xs md:text-sm mb-1\">{stat.label}</p>\r\n                      <p className=\"font-display text-2xl md:text-3xl font-bold text-[#1a2332]\">{stat.value}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Quick Stats */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\r\n                <div className=\"bg-white rounded-lg p-4 md:p-6 shadow-md\">\r\n                  <h3 className=\"font-semibold text-base md:text-lg mb-4\">Blog Posts</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <p className=\"text-sm text-gray-600\">Total: {stats?.totalBlogPosts || 0}</p>\r\n                    <p className=\"text-sm text-gray-600\">Published: {stats?.publishedBlogPosts || 0}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg p-4 md:p-6 shadow-md\">\r\n                  <h3 className=\"font-semibold text-base md:text-lg mb-4\">Bookings</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <p className=\"text-sm text-gray-600\">Pending: {stats?.pendingBookings || 0}</p>\r\n                    <p className=\"text-sm text-gray-600\">Confirmed: {stats?.confirmedBookings || 0}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-white rounded-lg p-4 md:p-6 shadow-md\">\r\n                  <h3 className=\"font-semibold text-base md:text-lg mb-4\">Contacts</h3>\r\n                  <div className=\"space-y-2\">\r\n                    <p className=\"text-sm text-gray-600\">Unread: {stats?.unreadContacts || 0}</p>\r\n                    <p className=\"text-sm text-gray-600\">Total: {stats?.totalContacts || 0}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Agents Management */}\r\n          {activeTab === \"agents\" && (\r\n            <AgentsPage />\r\n          )}\r\n\r\n          {/* Settings Content */}\r\n          {activeTab === \"settings\" && (\r\n            <div className=\"space-y-6 md:space-y-8\">\r\n              {/* Change Password Section */}\r\n              <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"w-10 h-10 bg-[#D4AF37]/10 rounded-lg flex items-center justify-center\">\r\n                    <Lock className=\"w-5 h-5 text-[#D4AF37]\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"font-display text-xl font-bold text-[#1a2332]\">Change Password</h2>\r\n                    <p className=\"text-sm text-gray-600\">Update your admin password</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-4 max-w-md\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Current Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      value={passwordForm.currentPassword}\r\n                      onChange={(e) => setPasswordForm({ ...passwordForm, currentPassword: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      autoComplete=\"current-password\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">New Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      value={passwordForm.newPassword}\r\n                      onChange={(e) => setPasswordForm({ ...passwordForm, newPassword: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      autoComplete=\"new-password\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Confirm New Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      value={passwordForm.confirmPassword}\r\n                      onChange={(e) => setPasswordForm({ ...passwordForm, confirmPassword: e.target.value })}\r\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      autoComplete=\"new-password\"\r\n                    />\r\n                  </div>\r\n                  <Button\r\n                    onClick={handleChangePassword}\r\n                    disabled={isChangingPassword}\r\n                    className=\"bg-[#D4AF37] hover:bg-[#B8941F] text-white\"\r\n                  >\r\n                    {isChangingPassword ? (\r\n                      <>\r\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                        Changing...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Lock className=\"w-4 h-4 mr-2\" />\r\n                        Change Password\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Admin Emails Section */}\r\n              <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"w-10 h-10 bg-[#D4AF37]/10 rounded-lg flex items-center justify-center\">\r\n                    <Mail className=\"w-5 h-5 text-[#D4AF37]\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"font-display text-xl font-bold text-[#1a2332]\">Admin Email Management</h2>\r\n                    <p className=\"text-sm text-gray-600\">Create new admin users with full dashboard access</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Add New Admin Email */}\r\n                <div className=\"mb-6 max-w-3xl\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                    Add New Admin User\r\n                    <span className=\"block text-xs font-normal text-gray-500 mt-1\">\r\n                      Create a new user account with admin privileges. They can login immediately with the credentials below.\r\n                    </span>\r\n                  </label>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newAdminName}\r\n                        onChange={(e) => setNewAdminName(e.target.value)}\r\n                        placeholder=\"Full Name\"\r\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      />\r\n                      <input\r\n                        type=\"email\"\r\n                        value={newAdminEmail}\r\n                        onChange={(e) => setNewAdminEmail(e.target.value)}\r\n                        placeholder=\"Email Address\"\r\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      />\r\n                      <input\r\n                        type=\"password\"\r\n                        value={newAdminPassword}\r\n                        onChange={(e) => setNewAdminPassword(e.target.value)}\r\n                        placeholder=\"Password (min 8 chars)\"\r\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                      />\r\n                    </div>\r\n                    <Button\r\n                      onClick={handleAddAdminEmail}\r\n                      disabled={isAddingEmail}\r\n                      className=\"bg-[#D4AF37] hover:bg-[#B8941F] text-white w-full md:w-auto\"\r\n                    >\r\n                      {isAddingEmail ? (\r\n                        <>\r\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                          Creating...\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Plus className=\"w-4 h-4 mr-2\" />\r\n                          Create Admin User\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Admin Emails List */}\r\n                <div>\r\n                  <h3 className=\"font-semibold text-gray-700 mb-4\">Current Admin Users</h3>\r\n                  <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                    <div className=\"inline-block min-w-full align-middle\">\r\n                      <table className=\"min-w-full\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-gray-200\">\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Email</th>\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Added By</th>\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Added On</th>\r\n                            <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {adminEmails.map((admin) => (\r\n                            <tr key={admin.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                              <td className=\"py-3 px-3 md:px-4 text-sm md:text-base font-medium\">{admin.email}</td>\r\n                              <td className=\"py-3 px-3 md:px-4 text-sm md:text-base text-gray-600\">{admin.addedBy}</td>\r\n                              <td className=\"py-3 px-3 md:px-4 text-sm md:text-base text-gray-600\">\r\n                                {new Date(admin.createdAt).toLocaleDateString()}\r\n                              </td>\r\n                              <td className=\"py-3 px-3 md:px-4\">\r\n                                <div className=\"flex items-center justify-end\">\r\n                                  <button\r\n                                    onClick={() => handleRemoveAdminEmail(admin.email)}\r\n                                    disabled={admin.email === session?.user?.email}\r\n                                    className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                    title={admin.email === session?.user?.email ? \"Cannot remove your own access\" : \"Remove admin access\"}\r\n                                  >\r\n                                    <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                  </button>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                          {adminEmails.length === 0 && (\r\n                            <tr>\r\n                              <td colSpan={4} className=\"py-8 text-center text-gray-500\">\r\n                                No admin users found\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Properties Management */}\r\n          {activeTab === \"properties\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                    <div className=\"inline-block min-w-full align-middle\">\r\n                      <table className=\"min-w-full\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-gray-200\">\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Property</th>\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Location</th>\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Price</th>\r\n                            <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Status</th>\r\n                            <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {properties.map((property) => (\r\n                            <tr key={property.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                              <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{property.title}</td>\r\n                              <td className=\"py-3 px-3 md:px-4 text-sm md:text-base whitespace-nowrap\">{property.location}</td>\r\n                              <td className=\"py-3 px-3 md:px-4 font-semibold text-[#D4AF37] text-sm md:text-base whitespace-nowrap\">{property.price}</td>\r\n                              <td className=\"py-3 px-3 md:px-4\">\r\n                                <span className={`px-2 md:px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${\r\n                                  property.status === \"Active\" \r\n                                    ? \"bg-green-100 text-green-800\" \r\n                                    : property.status === \"Pending\"\r\n                                    ? \"bg-yellow-100 text-yellow-800\"\r\n                                    : \"bg-gray-100 text-gray-800\"\r\n                                }`}>\r\n                                  {property.status}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"py-3 px-3 md:px-4\">\r\n                                <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                  <button \r\n                                    onClick={() => handleEdit(property, \"properties\")}\r\n                                    className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                  >\r\n                                    <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                  </button>\r\n                                  <button \r\n                                    onClick={() => handleDelete(property.id, \"properties\")}\r\n                                    className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                  >\r\n                                    <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                  </button>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Blog Posts Management */}\r\n          {activeTab === \"blogs\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Title</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Author</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Category</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Status</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {blogPosts.map((post) => (\r\n                          <tr key={post.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{post.title}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{post.author}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{post.category}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <span className={`px-2 md:px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${\r\n                                post.published \r\n                                  ? \"bg-green-100 text-green-800\" \r\n                                  : \"bg-gray-100 text-gray-800\"\r\n                              }`}>\r\n                                {post.published ? \"Published\" : \"Draft\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleEdit(post, \"blogs\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(post.id, \"blogs\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Testimonials Management */}\r\n          {activeTab === \"testimonials\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Name</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Role</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Rating</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {testimonials.map((testimonial) => (\r\n                          <tr key={testimonial.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{testimonial.name}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{testimonial.role}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{\"Γ¡É\".repeat(testimonial.rating)}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleEdit(testimonial, \"testimonials\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(testimonial.id, \"testimonials\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Partners Management */}\r\n          {activeTab === \"partners\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Name</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Website</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {partners.map((partner) => (\r\n                          <tr key={partner.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{partner.name}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{partner.website || \"N/A\"}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleEdit(partner, \"partners\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(partner.id, \"partners\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Bookings Management */}\r\n          {activeTab === \"bookings\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Name</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Email</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Phone</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Date & Time</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Property Type</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Status</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {bookings.map((booking) => (\r\n                          <tr key={booking.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">\r\n                              <div className=\"flex items-center gap-2\">\r\n                                {booking.name}\r\n                                {booking.googleCalendarEventId && (\r\n                                  <div title=\"Google Calendar event created\">\r\n                                    <CalendarCheck className=\"w-4 h-4 text-green-600\" />\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm break-all\">{booking.email}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm whitespace-nowrap\">{booking.phone}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm\">\r\n                              <div>{booking.date}</div>\r\n                              <div className=\"text-gray-500\">{booking.time}</div>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm\">{booking.propertyType || 'N/A'}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <select\r\n                                value={booking.status}\r\n                                onChange={(e) => handleUpdateBookingStatus(booking.id, e.target.value)}\r\n                                className={`px-2 md:px-3 py-1 rounded-full text-xs font-semibold border-none ${\r\n                                  booking.status === 'Confirmed' \r\n                                    ? 'bg-green-100 text-green-800' \r\n                                    : booking.status === 'Pending'\r\n                                    ? 'bg-yellow-100 text-yellow-800'\r\n                                    : booking.status === 'Completed'\r\n                                    ? 'bg-blue-100 text-blue-800'\r\n                                    : 'bg-gray-100 text-gray-800'\r\n                                }`}\r\n                              >\r\n                                <option value=\"Pending\">Pending</option>\r\n                                <option value=\"Confirmed\">Confirmed</option>\r\n                                <option value=\"Completed\">Completed</option>\r\n                                <option value=\"Cancelled\">Cancelled</option>\r\n                              </select>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleEdit(booking, \"bookings\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(booking.id, \"bookings\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Contacts Management */}\r\n          {activeTab === \"contacts\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Name</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Email</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Phone</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Subject</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Status</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {contacts.map((contact) => (\r\n                          <tr key={contact.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{contact.name}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm break-all\">{contact.email}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-xs md:text-sm whitespace-nowrap\">{contact.phone}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{contact.subject}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <select\r\n                                value={contact.status}\r\n                                onChange={(e) => handleUpdateContactStatus(contact.id, e.target.value)}\r\n                                className=\"px-2 md:px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 border-none\"\r\n                              >\r\n                                <option value=\"Unread\">Unread</option>\r\n                                <option value=\"Read\">Read</option>\r\n                                <option value=\"Responded\">Responded</option>\r\n                              </select>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleViewMessage(contact.message)}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                  title=\"View message\"\r\n                                >\r\n                                  <Eye className=\"w-4 h-4 text-gray-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(contact.id, \"contacts\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* FAQs Management */}\r\n          {/* {activeTab === \"faqs\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                  <div className=\"inline-block min-w-full align-middle\">\r\n                    <table className=\"min-w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-200\">\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Question</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Category</th>\r\n                          <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Status</th>\r\n                          <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {faqs.map((faq) => (\r\n                          <tr key={faq.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{faq.question}</td>\r\n                            <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{faq.category}</td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <span className={`px-2 md:px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${\r\n                                faq.published \r\n                                  ? \"bg-green-100 text-green-800\" \r\n                                  : \"bg-gray-100 text-gray-800\"\r\n                              }`}>\r\n                                {faq.published ? \"Published\" : \"Draft\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"py-3 px-3 md:px-4\">\r\n                              <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                <button \r\n                                  onClick={() => handleEdit(faq, \"faqs\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                </button>\r\n                                <button \r\n                                  onClick={() => handleDelete(faq.id, \"faqs\")}\r\n                                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )} */}\r\n\r\n          {/* Gallery Management */}\r\n          {activeTab === \"gallery\" && (\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n              {loading ? (\r\n                <div className=\"flex justify-center py-12\">\r\n                  <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n                  {galleryItems.map((item) => (\r\n                    <div key={item.id} className=\"bg-gray-50 rounded-lg overflow-hidden\">\r\n                      <img \r\n                        src={item.image} \r\n                        alt={item.title}\r\n                        className=\"w-full h-40 md:h-48 object-cover\"\r\n                      />\r\n                      <div className=\"p-4\">\r\n                        <h3 className=\"font-semibold mb-2 text-sm md:text-base\">{item.title}</h3>\r\n                        <p className=\"text-xs md:text-sm text-gray-600 mb-3\">{item.category}</p>\r\n                        <div className=\"flex space-x-2\">\r\n                          <button \r\n                            onClick={() => handleEdit(item, \"gallery\")}\r\n                            className=\"text-blue-600 text-xs md:text-sm hover:underline\"\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button \r\n                            onClick={() => handleDelete(item.id, \"gallery\")}\r\n                            className=\"text-red-600 text-xs md:text-sm hover:underline\"\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Homepage Stats Management */}\r\n          {activeTab === \"homepage-stats\" && (\r\n             <div className=\"bg-white rounded-lg shadow-md p-4 md:p-6\">\r\n               {loading ? (\r\n                 <div className=\"flex justify-center py-12\">\r\n                   <Loader2 className=\"w-8 h-8 animate-spin text-[#D4AF37]\" />\r\n                 </div>\r\n               ) : (\r\n                 <div className=\"overflow-x-auto -mx-4 md:mx-0\">\r\n                   <div className=\"inline-block min-w-full align-middle\">\r\n                     <table className=\"min-w-full\">\r\n                       <thead>\r\n                         <tr className=\"border-b border-gray-200\">\r\n                           <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Order</th>\r\n                           <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Label</th>\r\n                           <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Value</th>\r\n                           <th className=\"text-left py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base\">Icon</th>\r\n                           <th className=\"text-right py-3 px-3 md:px-4 font-semibold text-gray-700 text-sm md:text-base whitespace-nowrap\">Actions</th>\r\n                         </tr>\r\n                       </thead>\r\n                       <tbody>\r\n                         {homepageStats.map((stat) => (\r\n                           <tr key={stat.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n                             <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{stat.orderIndex}</td>\r\n                             <td className=\"py-3 px-3 md:px-4 text-sm md:text-base font-medium\">{stat.label}</td>\r\n                             <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{stat.value}</td>\r\n                             <td className=\"py-3 px-3 md:px-4 text-sm md:text-base\">{stat.icon}</td>\r\n                             <td className=\"py-3 px-3 md:px-4\">\r\n                               <div className=\"flex items-center justify-end space-x-1 md:space-x-2\">\r\n                                 <button \r\n                                   onClick={() => handleEdit(stat, \"homepage-stats\")}\r\n                                   className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                 >\r\n                                   <Edit className=\"w-4 h-4 text-blue-600\" />\r\n                                 </button>\r\n                                 <button \r\n                                   onClick={() => handleDelete(stat.id, \"homepage-stats\")}\r\n                                   className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                 >\r\n                                   <Trash2 className=\"w-4 h-4 text-red-600\" />\r\n                                 </button>\r\n                               </div>\r\n                             </td>\r\n                           </tr>\r\n                         ))}\r\n                       </tbody>\r\n                     </table>\r\n                   </div>\r\n                 </div>\r\n               )}\r\n             </div>\r\n           )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* Edit/Add Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-4 md:p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10\">\r\n              <h2 className=\"font-display text-xl md:text-2xl font-bold text-[#1a2332]\">\r\n                {editType === \"view-message\" \r\n                  ? \"View Message\" \r\n                  : isCreating \r\n                    ? `Add New ${editType.slice(0, -1).charAt(0).toUpperCase() + editType.slice(1, -1)}` \r\n                    : `Edit ${editType.slice(0, -1).charAt(0).toUpperCase() + editType.slice(1, -1)}`}\r\n              </h2>\r\n              <button \r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setIsCreating(false);\r\n                  setEditingItem(null);\r\n                }} \r\n                className=\"p-2 hover:bg-gray-100 rounded-lg\"\r\n                disabled={isSaving}\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"p-4 md:p-6\">\r\n              {editType === \"view-message\" ? (\r\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                  <p className=\"text-gray-800 whitespace-pre-wrap text-sm md:text-base\">{editingItem?.message}</p>\r\n                </div>\r\n              ) : (\r\n                <EditForm \r\n                  item={editingItem} \r\n                  type={editType} \r\n                  onChange={setEditingItem}\r\n                  onSave={handleSaveEdit}\r\n                  onCancel={() => {\r\n                    setShowModal(false);\r\n                    setIsCreating(false);\r\n                    setEditingItem(null);\r\n                  }}\r\n                  isCreating={isCreating}\r\n                  isSaving={isSaving}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Edit Form Component\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction EditForm({ item, type, onChange, onSave, onCancel, isCreating, isSaving }: any) {\r\n  if (!item) return null;\r\n\r\n  const handleChange = (field: string, value: any) => {\r\n    onChange({ ...item, [field]: value });\r\n  };\r\n\r\n  // Handle adding a new image URL to the images array\r\n  const handleAddImage = () => {\r\n    const images = item.images || [];\r\n    onChange({ ...item, images: [...images, \"\"] });\r\n  };\r\n\r\n  // Handle removing an image URL from the images array\r\n  const handleRemoveImage = (index: number) => {\r\n    const images = item.images || [];\r\n    const newImages = images.filter((_: any, i: number) => i !== index);\r\n    onChange({ ...item, images: newImages });\r\n  };\r\n\r\n  // Handle updating a specific image URL in the images array\r\n  const handleImageChange = (index: number, value: string) => {\r\n    const images = item.images || [];\r\n    const newImages = [...images];\r\n    newImages[index] = value;\r\n    onChange({ ...item, images: newImages });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Properties Form */}\r\n      {type === \"properties\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.title || \"\"}\r\n              onChange={(e) => handleChange(\"title\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.location || \"\"}\r\n              onChange={(e) => handleChange(\"location\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Price</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.price || \"\"}\r\n              onChange={(e) => handleChange(\"price\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bedrooms</label>\r\n              <input\r\n                type=\"number\"\r\n                value={item.bedrooms}\r\n                onChange={(e) => handleChange(\"bedrooms\", e.target.value === \"\" ? 0 : parseInt(e.target.value))}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                placeholder=\"0\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bathrooms</label>\r\n              <input\r\n                type=\"number\"\r\n                value={item.bathrooms}\r\n                onChange={(e) => handleChange(\"bathrooms\", e.target.value === \"\" ? 0 : parseInt(e.target.value))}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                placeholder=\"0\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Area</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.area || \"\"}\r\n              onChange={(e) => handleChange(\"area\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Type</label>\r\n            <select\r\n              value={item.type || \"Residential\"}\r\n              onChange={(e) => handleChange(\"type\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            >\r\n              <option value=\"Residential\">Residential</option>\r\n              <option value=\"Commercial\">Commercial</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\r\n            <select\r\n              value={item.category || \"Sale\"}\r\n              onChange={(e) => handleChange(\"category\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            >\r\n              <option value=\"Sale\">For Sale</option>\r\n              <option value=\"Rent\">For Rent</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select\r\n              value={item.status || \"Active\"}\r\n              onChange={(e) => handleChange(\"status\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            >\r\n              <option value=\"Active\">Active</option>\r\n              <option value=\"Pending\">Pending</option>\r\n              <option value=\"Sold\">Sold</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Primary Image URL (Featured)</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.image || \"\"}\r\n              onChange={(e) => handleChange(\"image\", e.target.value)}\r\n              placeholder=\"https://example.com/primary-image.jpg\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          \r\n          {/* Multiple Images Section */}\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700\">Additional Images (Gallery)</label>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={handleAddImage}\r\n                className=\"bg-[#D4AF37] hover:bg-[#B8941F] text-white text-xs px-3 py-1\"\r\n              >\r\n                <Plus className=\"w-3 h-3 mr-1\" />\r\n                Add Image\r\n              </Button>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              {(item.images || []).map((img: string, index: number) => (\r\n                <div key={index} className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={img}\r\n                    onChange={(e) => handleImageChange(index, e.target.value)}\r\n                    placeholder={`https://example.com/image-${index + 1}.jpg`}\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={() => handleRemoveImage(index)}\r\n                    variant=\"outline\"\r\n                    className=\"px-3 py-2 text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n              ))}\r\n              {(!item.images || item.images.length === 0) && (\r\n                <p className=\"text-sm text-gray-500 italic\">No additional images. Click &quot;Add Image&quot; to add gallery images.</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n            <textarea\r\n              value={item.description || \"\"}\r\n              onChange={(e) => handleChange(\"description\", e.target.value)}\r\n              rows={4}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={item.featured || false}\r\n                onChange={(e) => handleChange(\"featured\", e.target.checked)}\r\n                className=\"rounded border-gray-300 text-[#D4AF37] focus:ring-[#D4AF37]\"\r\n              />\r\n              <span className=\"text-sm font-medium text-gray-700\">Featured Property</span>\r\n            </label>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Blog Posts Form */}\r\n      {type === \"blogs\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.title || \"\"}\r\n              onChange={(e) => handleChange(\"title\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Author</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.author || \"\"}\r\n              onChange={(e) => handleChange(\"author\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\r\n              <input\r\n                type=\"text\"\r\n                value={item.category || \"\"}\r\n                onChange={(e) => handleChange(\"category\", e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Read Time</label>\r\n              <input\r\n                type=\"text\"\r\n                value={item.readTime || \"\"}\r\n                onChange={(e) => handleChange(\"readTime\", e.target.value)}\r\n                placeholder=\"e.g., 5 min read\"\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Image URL</label>\r\n        <input\r\n          type=\"text\"\r\n          value={item.image || \"\"}\r\n          onChange={(e) => handleChange(\"image\", e.target.value)}\r\n          placeholder=\"https://example.com/blog-image.jpg\"\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Excerpt</label>\r\n        <textarea\r\n          value={item.excerpt || \"\"}\r\n          onChange={(e) => handleChange(\"excerpt\", e.target.value)}\r\n          rows={2}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Content</label>\r\n        <textarea\r\n          value={item.content || \"\"}\r\n          onChange={(e) => handleChange(\"content\", e.target.value)}\r\n          rows={6}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"flex items-center space-x-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={item.published || false}\r\n            onChange={(e) => handleChange(\"published\", e.target.checked)}\r\n            className=\"rounded border-gray-300 text-[#D4AF37] focus:ring-[#D4AF37]\"\r\n          />\r\n          <span className=\"text-sm font-medium text-gray-700\">Published</span>\r\n        </label>\r\n      </div>\r\n    </>\r\n  )}\r\n\r\n  {/* Homepage Stats Form */}\r\n  {type === \"homepage-stats\" && (\r\n    <>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Label</label>\r\n        <input\r\n          type=\"text\"\r\n          value={item.label || \"\"}\r\n          onChange={(e) => handleChange(\"label\", e.target.value)}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n          placeholder=\"e.g. Years Experience\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Value</label>\r\n        <input\r\n          type=\"text\"\r\n          value={item.value || \"\"}\r\n          onChange={(e) => handleChange(\"value\", e.target.value)}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n          placeholder=\"e.g. 25+ or AUTO\"\r\n        />\r\n        <p className=\"text-xs text-gray-500 mt-1\">Use &quot;AUTO&quot; to automatically count from database (for Properties/Testimonials)</p>\r\n      </div>\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Icon</label>\r\n        <select\r\n          value={item.icon || \"Star\"}\r\n          onChange={(e) => handleChange(\"icon\", e.target.value)}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n        >\r\n          <option value=\"Star\">Star (Happy Clients)</option>\r\n          <option value=\"Award\">Award (Experience)</option>\r\n          <option value=\"DollarSign\">Dollar Sign (Sales)</option>\r\n          <option value=\"Building\">Building (Properties)</option>\r\n        </select>\r\n      </div>\r\n       <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Order Index</label>\r\n        <input\r\n          type=\"number\"\r\n          value={item.orderIndex || 0}\r\n          onChange={(e) => handleChange(\"orderIndex\", parseInt(e.target.value))}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n        />\r\n      </div>\r\n    </>\r\n  )}\r\n\r\n      {/* Testimonials Form */}\r\n      {type === \"testimonials\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.name || \"\"}\r\n              onChange={(e) => handleChange(\"name\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Role</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.role || \"\"}\r\n              onChange={(e) => handleChange(\"role\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Image URL</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.image || \"\"}\r\n              onChange={(e) => handleChange(\"image\", e.target.value)}\r\n              placeholder=\"https://example.com/testimonial-image.jpg\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rating</label>\r\n            <select\r\n              value={item.rating || 5}\r\n              onChange={(e) => handleChange(\"rating\", parseInt(e.target.value))}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            >\r\n              <option value={1}>1 Star</option>\r\n              <option value={2}>2 Stars</option>\r\n              <option value={3}>3 Stars</option>\r\n              <option value={4}>4 Stars</option>\r\n              <option value={5}>5 Stars</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Content</label>\r\n            <textarea\r\n              value={item.content || \"\"}\r\n              onChange={(e) => handleChange(\"content\", e.target.value)}\r\n              rows={4}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Partners Form */}\r\n      {type === \"partners\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.name || \"\"}\r\n              onChange={(e) => handleChange(\"name\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Website</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.website || \"\"}\r\n              onChange={(e) => handleChange(\"website\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Logo URL</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.logo || \"\"}\r\n              onChange={(e) => handleChange(\"logo\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Bookings Form */}\r\n      {type === \"bookings\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.name || \"\"}\r\n              onChange={(e) => handleChange(\"name\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={item.email || \"\"}\r\n              onChange={(e) => handleChange(\"email\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.phone || \"\"}\r\n              onChange={(e) => handleChange(\"phone\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date</label>\r\n              <input\r\n                type=\"date\"\r\n                value={item.date || \"\"}\r\n                onChange={(e) => handleChange(\"date\", e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Time</label>\r\n              <select\r\n                value={item.time || \"\"}\r\n                onChange={(e) => handleChange(\"time\", e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              >\r\n                <option value=\"\">Select time</option>\r\n                <option value=\"9:00 AM\">9:00 AM</option>\r\n                <option value=\"10:00 AM\">10:00 AM</option>\r\n                <option value=\"11:00 AM\">11:00 AM</option>\r\n                <option value=\"12:00 PM\">12:00 PM</option>\r\n                <option value=\"1:00 PM\">1:00 PM</option>\r\n                <option value=\"2:00 PM\">2:00 PM</option>\r\n                <option value=\"3:00 PM\">3:00 PM</option>\r\n                <option value=\"4:00 PM\">4:00 PM</option>\r\n                <option value=\"5:00 PM\">5:00 PM</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Property Type</label>\r\n              <select\r\n                value={item.propertyType || \"\"}\r\n                onChange={(e) => handleChange(\"propertyType\", e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              >\r\n                <option value=\"\">Select type</option>\r\n                <option value=\"residential\">Residential</option>\r\n                <option value=\"commercial\">Commercial</option>\r\n                <option value=\"villa\">Villa</option>\r\n                <option value=\"penthouse\">Penthouse</option>\r\n                <option value=\"estate\">Estate</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Budget</label>\r\n              <select\r\n                value={item.budget || \"\"}\r\n                onChange={(e) => handleChange(\"budget\", e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n              >\r\n                <option value=\"\">Select budget</option>\r\n                <option value=\"$0 - $5M\">$0 - $5M</option>\r\n                <option value=\"$5M - $10M\">$5M - $10M</option>\r\n                <option value=\"$10M - $20M\">$10M - $20M</option>\r\n                <option value=\"$20M+\">$20M+</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Preferred Location</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.location || \"\"}\r\n              onChange={(e) => handleChange(\"location\", e.target.value)}\r\n              placeholder=\"City, State, or Region\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Message</label>\r\n            <textarea\r\n              value={item.message || \"\"}\r\n              onChange={(e) => handleChange(\"message\", e.target.value)}\r\n              rows={3}\r\n              placeholder=\"Client's message or requirements\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Admin Notes</label>\r\n            <textarea\r\n              value={item.notes || \"\"}\r\n              onChange={(e) => handleChange(\"notes\", e.target.value)}\r\n              rows={2}\r\n              placeholder=\"Internal notes (not visible to client)\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n            <select\r\n              value={item.status || \"Pending\"}\r\n              onChange={(e) => handleChange(\"status\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            >\r\n              <option value=\"Pending\">Pending</option>\r\n              <option value=\"Confirmed\">Confirmed</option>\r\n              <option value=\"Completed\">Completed</option>\r\n              <option value=\"Cancelled\">Cancelled</option>\r\n            </select>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              ≡ƒÆí Setting status to &quot;Confirmed&quot; will automatically create a Google Calendar event (if configured)\r\n            </p>\r\n          </div>\r\n          {item.googleCalendarEventId && (\r\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\r\n              <div className=\"flex items-center gap-2 text-sm text-green-800\">\r\n                <CalendarCheck className=\"w-4 h-4\" />\r\n                <span className=\"font-medium\">Google Calendar Event Created</span>\r\n              </div>\r\n              <p className=\"text-xs text-green-600 mt-1\">Event ID: {item.googleCalendarEventId}</p>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* FAQs Form */}\r\n      {type === \"faqs\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Question</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.question || \"\"}\r\n              onChange={(e) => handleChange(\"question\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Answer</label>\r\n            <textarea\r\n              value={item.answer || \"\"}\r\n              onChange={(e) => handleChange(\"answer\", e.target.value)}\r\n              rows={4}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.category || \"\"}\r\n              onChange={(e) => handleChange(\"category\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={item.published || false}\r\n                onChange={(e) => handleChange(\"published\", e.target.checked)}\r\n                className=\"rounded border-gray-300 text-[#D4AF37] focus:ring-[#D4AF37]\"\r\n              />\r\n              <span className=\"text-sm font-medium text-gray-700\">Published</span>\r\n            </label>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Gallery Form */}\r\n      {type === \"gallery\" && (\r\n        <>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.title || \"\"}\r\n              onChange={(e) => handleChange(\"title\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.category || \"\"}\r\n              onChange={(e) => handleChange(\"category\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Image URL</label>\r\n            <input\r\n              type=\"text\"\r\n              value={item.image || \"\"}\r\n              onChange={(e) => handleChange(\"image\", e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n            <textarea\r\n              value={item.description || \"\"}\r\n              onChange={(e) => handleChange(\"description\", e.target.value)}\r\n              rows={3}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={item.published || false}\r\n                onChange={(e) => handleChange(\"published\", e.target.checked)}\r\n                className=\"rounded border-gray-300 text-[#D4AF37] focus:ring-[#D4AF37]\"\r\n              />\r\n              <span className=\"text-sm font-medium text-gray-700\">Published</span>\r\n            </label>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex justify-end space-x-3 pt-4\">\r\n        <Button \r\n          onClick={onCancel}\r\n          variant=\"outline\"\r\n          className=\"px-6\"\r\n          disabled={isSaving}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button \r\n          onClick={onSave}\r\n          className=\"px-6 bg-[#D4AF37] hover:bg-[#B8941F] text-white\"\r\n          disabled={isSaving}\r\n        >\r\n          {isSaving ? (\r\n            <>\r\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              {isCreating ? \"Creating...\" : \"Saving...\"}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Save className=\"w-4 h-4 mr-2\" />\r\n              {isCreating ? \"Create\" : \"Save Changes\"}\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]}]
